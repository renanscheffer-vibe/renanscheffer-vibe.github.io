<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Portfolio For You</title>
    
    <!-- Preload Custom Font to prevent layout shift -->
    <link rel="preload" href="https://static1.squarespace.com/static/5f3801146d119504216251db/t/6946ced7bb94117bfb216848/1766248151715/Mazurquica-Pesada.otf" as="font" type="font/otf" crossorigin>

    <!-- Optimize Google Fonts Loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- display=block ensures text stays hidden until font is ready, preventing the visual 'snap' -->
    <link href="https://fonts.googleapis.com/css2?family=Epilogue:ital,wght@0,100..900;1,100..900&family=Syne:wght@400..800&display=block" rel="stylesheet">

    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for translating JSX in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Custom Fonts -->
    <style>
        /* Loading Custom Mazurquica Font */
        @font-face {
            font-family: 'Mazurquica VF';
            src: url('https://static1.squarespace.com/static/5f3801146d119504216251db/t/6946ced7bb94117bfb216848/1766248151715/Mazurquica-Pesada.otf') format('opentype');
            font-weight: 100 900;
            font-display: block; /* Ensures no fallback font is shown, preventing layout shifts */
        }

        .font-heading {
            font-family: 'Mazurquica VF', 'Syne', 'Epilogue', sans-serif;
        }
        .font-body {
            font-family: 'Epilogue', sans-serif;
        }
        
        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        /* Smooth Fade In to mask initial load */
        #root {
            opacity: 0;
            animation: fadeIn 0.6s ease-out forwards;
        }

        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        /* Custom Attention Animation for Name - Restored Pop */
        @keyframes revealPop {
            0% { 
                opacity: 0; 
                transform: translateY(20px) scale(0.9);
            }
            60% {
                opacity: 1;
                transform: translateY(-5px) scale(1.05);
            }
            100% { 
                opacity: 1; 
                transform: translateY(0) scale(1);
            }
        }
    </style>
</head>
<body class="bg-zinc-950 text-white h-screen w-screen overflow-hidden">
    <div id="root" class="h-full w-full"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- ICONS (Inline SVGs to prevent loading errors) ---
        const Heart = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
        );
        const MessageCircle = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"/></svg>
        );
        const Info = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
        );
        const Volume2 = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>
        );
        const VolumeX = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><line x1="23" x2="17" y1="9" y2="15"/><line x1="17" x2="23" y1="9" y2="15"/></svg>
        );
        const ChevronUp = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m18 15-6-6-6 6"/></svg>
        );
        const ChevronDown = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m6 9 6 6 6-6"/></svg>
        );
        const UserPlus = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" x2="19" y1="8" y2="14"/><line x1="22" x2="16" y1="11" y2="11"/></svg>
        );
        const Check = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M20 6 9 17l-5-5"/></svg>
        );
        const Send = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>
        );
        const ExternalLink = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></svg>
        );
        const ArrowRight = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
        );
        const AlertCircle = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></svg>
        );
        // Updated HomeIcon to be filled with cutout door
        const HomeIcon = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" fill="currentColor" stroke="none"/>
                <polyline points="9 22 9 12 15 12 15 22" stroke="#1e1d1e" />
            </svg>
        );
        const Briefcase = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>
        );
        const LayoutGrid = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
                <rect width="7" height="7" x="3" y="3" rx="1" />
                <rect width="7" height="7" x="14" y="3" rx="1" />
                <rect width="7" height="7" x="14" y="14" rx="1" />
                <rect width="7" height="7" x="3" y="14" rx="1" />
            </svg>
        );
        const FileText = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/></svg>
        );
        const Mail = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
        );

        // --- CONFIGURATION ---
        const CONTENT_DATA = [
            {
                id: 'welcome',
                type: 'welcome',
                company: "Nickelodeon",
                managerName: "Stacey",
                message: "I hand-picked these clips specifically for you to showcase how my 8.5 years at Nickelodeon can translate to your team's vision.",
                bgImage: "https://res.cloudinary.com/dqilx3mrs/image/upload/v1766256725/RSC_FYP_BACKGROUND_2_n9julp.png"
            },
            {
                id: 1,
                type: 'carousel',
                title: 'Dora & The Search For Sol Dorado Motion Posters',
                description: 'I recently animated a series of motion posters for the movie Dora and the Search for Sol Dorado, using AI tools like Adobe Firefly as part of an experimental approach. The integration of AI technology allowed for creative flexibility and efficiency. My aim was to push the limits of these AI tools. I wanted to see how far I could harness them, without getting any of the weird results often attributed to this emerging technology (fans would be quick to call us out if they noticed anything funky!)',
                likes: '18.5K',
                comments: '542',
                slides: [
                    {
                        id: 'dora',
                        url: 'https://res.cloudinary.com/dqilx3mrs/video/upload/v1766262856/Dora_Clean_saihrh.mp4',
                        type: 'video/mp4'
                    },
                    {
                        id: 'boots',
                        url: 'https://res.cloudinary.com/dqilx3mrs/video/upload/v1766262856/Boots_Clean_njzzov.mp4',
                        type: 'video/mp4'
                    },
                    {
                        id: 'diego',
                        url: 'https://res.cloudinary.com/dqilx3mrs/video/upload/v1766262855/Diego_Clean_xvx2bs.mp4',
                        type: 'video/mp4'
                    },
                    {
                        id: 'naiya',
                        url: 'https://res.cloudinary.com/dqilx3mrs/video/upload/v1766262855/Naya_Clean_opeu5e.mp4',
                        type: 'video/mp4'
                    }
                ]
            },
            {
                id: 2,
                type: 'video',
                url: 'https://res.cloudinary.com/dqilx3mrs/video/upload/v1766263261/KCA_ChanceWhichSpongeBobCharacterAreYou_uvdnef.mp4',
                title: 'Which SpongeBob Character Are You Filter',
                description: 'In 2020, Instagram and TikTok were overflowing with “Which ___ Are You?” filters. I saw the trend exploding and realized Nickelodeon was perfectly positioned to join the fun, especially with the world’s most beloved sea sponge. So I taught myself Meta’s Spark AR platform and built a SpongeBob character selector filter from the ground up. I designed the visuals, animated the character carousel, and optimized it for both Nickelodeon and SpongeBob’s official accounts. To make it accessible to fans everywhere, I personally localized the filter in 10 different languages, giving global audiences their turn at Bikini Bottom chaos.',
                likes: '45.2K',
                comments: '1.2K'
            },
            {
                id: 3,
                type: 'video',
                url: 'https://res.cloudinary.com/dqilx3mrs/video/upload/v1766264122/NICK_SOCIAL_THUNDERMANS_MARVEL_PARODY_9X16_h7jsle.mp4',
                title: 'The Thundermans Return Marvel Intro Parody',
                description: 'For the streaming debut of The Thundermans Return on Paramount+, we wanted a social piece that felt big, bold, and unmistakably superhero-epic. So we parodied one of the most iconic staples of the genre: the Marvel intro. As Design & Motion Lead, I oversaw the entire process — from the first rough storyboard frames through modeling, animation, lighting, 3D compositing, and even sound design. This was a massive, high-polish build that took real craft: character selects, heroic moments, dynamic camera sweeps, and glossy 3D transitions that matched the tone of blockbuster superhero intros while still feeling authentically Thundermans.',
                likes: '8.9K',
                comments: '210'
            },
            {
                id: 4,
                type: 'video',
                url: 'https://res.cloudinary.com/dqilx3mrs/video/upload/v1766264784/Colosso_Reacts_V7_compressed_vi6jpt.mp4',
                title: 'Dr. Colosso Trailer Reaction',
                description: 'When it came time to drop the official Thundermans: Undercover trailer, we flipped the “reaction video” format on its head by letting Dr. Colosso—the show’s snarky, scene-stealing bunny villain—take the reins. This piece brought fan-favorite humor to the forefront, with Colosso’s trademark sarcasm poking fun at the cast, the plot, and even the production itself. It was our way of giving fans a nostalgic wink while introducing a fresh spin on a proven format.',
                likes: '22.1K',
                comments: '890'
            },
            {
                id: 5,
                type: 'video',
                url: 'https://res.cloudinary.com/dqilx3mrs/video/upload/v1766265209/KCA_BEST_DAY_EVER_v22_duzcfo.mp4',
                title: "'Best Day Ever' Kids Choice Awards Spot",
                description: "When SpongeBob and Patrick took over hosting duties for the 2024 Kids’ Choice Awards, we wanted to celebrate in a way only Bikini Bottom could. As design lead, I oversaw all design and motion needs for a series of social videos that reimagined iconic SpongeBob moments—but with a Kids’ Choice twist. Think gooey green slime and iconic orange blimps composited seamlessly into classic scenes fans already know by heart.",
                likes: '15.8K',
                comments: '340'
            },
            {
                id: 'outro',
                type: 'outro',
                gradient: "bg-[#0d72e4]"
            }
        ];

        const VideoItem = ({ item, isActive, isMuted, toggleMute }) => {
            const videoRef = useRef(null);
            const carouselRef = useRef(null);
            const slideRefs = useRef([]);
            
            const [activeSlide, setActiveSlide] = useState(0);
            const [isLiked, setIsLiked] = useState(false);
            const [commentOpen, setCommentOpen] = useState(false);
            const [hasError, setHasError] = useState(false);
            const [bgLoaded, setBgLoaded] = useState(false);
            const [isExpanded, setIsExpanded] = useState(false); // New state for text expansion

            // --- STANDARD VIDEO LOGIC ---
            useEffect(() => {
                if (item.type === 'video' && videoRef.current && !hasError) {
                    if (isActive) {
                        const playPromise = videoRef.current.play();
                        if (playPromise !== undefined) {
                            playPromise.catch((error) => {
                                if (error.name !== 'AbortError') {
                                    console.warn("Autoplay blocked. Muting.");
                                    if (videoRef.current) {
                                        videoRef.current.muted = true;
                                        videoRef.current.play().catch(e => console.error(e));
                                    }
                                }
                            });
                        }
                    } else {
                        videoRef.current.pause();
                        videoRef.current.currentTime = 0;
                    }
                }
            }, [isActive, hasError, item.type]);

            // Sync mute state for standard video
            useEffect(() => {
                if(item.type === 'video' && videoRef.current) {
                    videoRef.current.muted = isMuted;
                }
            }, [isMuted, item.type]);

            // --- CAROUSEL LOGIC ---
            const handleCarouselScroll = () => {
                if (!carouselRef.current) return;
                const index = Math.round(carouselRef.current.scrollLeft / carouselRef.current.clientWidth);
                if (index !== activeSlide) setActiveSlide(index);
            };

            useEffect(() => {
                if (item.type === 'carousel') {
                    slideRefs.current.forEach((vid, idx) => {
                        if (!vid) return;
                        
                        // Mute state sync
                        vid.muted = isMuted;

                        if (isActive && idx === activeSlide) {
                            const p = vid.play();
                            if (p !== undefined) {
                                p.catch(e => {
                                    if (e.name !== 'AbortError') {
                                        vid.muted = true;
                                        vid.play().catch(console.error);
                                    }
                                });
                            }
                        } else {
                            vid.pause();
                            vid.currentTime = 0;
                        }
                    });
                }
            }, [isActive, activeSlide, isMuted, item.type]);

            // Reset expansion when scrolling to a new video
            useEffect(() => {
                if (!isActive) {
                    setIsExpanded(false);
                }
            }, [isActive]);

            // --- BACKGROUND IMAGE PRELOAD ---
            useEffect(() => {
                if (item.type === 'welcome' && item.bgImage) {
                    const img = new Image();
                    img.onload = () => {
                        setBgLoaded(true);
                    };
                    img.src = item.bgImage;
                }
            }, [item.type, item.bgImage]);

            const handleVideoError = () => {
                console.error(`Video failed to load: ${item.url}`);
                setHasError(true);
            };

            // --- RENDERERS ---

            if (item.type === 'welcome') {
                return (
                    <div 
                        className={`relative h-full w-full flex flex-col items-center justify-between text-center transition-opacity duration-1000 ease-out ${bgLoaded ? 'opacity-100' : 'opacity-0'}`}
                        style={{ 
                            padding: '6cqw',
                            backgroundImage: `url(${item.bgImage})`,
                            backgroundSize: 'cover',
                            backgroundRepeat: 'no-repeat',
                            backgroundPosition: 'center'
                        }}
                    >
                        <div className="flex-shrink-0" style={{ marginTop: '4cqh' }}>
                            {/* Icon Removed */}
                        </div>
                        <div 
                            className="flex-1 flex flex-col justify-center items-center w-full"
                            style={{ paddingTop: '15cqh' }}
                        >
                            <h1 
                                className="font-bold text-[#0d72e4] leading-none uppercase tracking-normal font-heading"
                                style={{ 
                                    fontSize: '9cqw', 
                                    marginBottom: '3cqh',
                                    opacity: 0, /* Start invisible */
                                    /* Fix: Trigger animation only after background is loaded */
                                    animation: bgLoaded ? 'revealPop 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards 0.5s' : 'none' 
                                }}
                            >
                                HI {item.managerName}!
                            </h1>
                            <p 
                                className="text-[#1e1d1e] italic font-medium leading-relaxed drop-shadow-sm font-body"
                                style={{ fontSize: '4.5cqw', maxWidth: '90%' }}
                            >
                                "{item.message}"
                            </p>
                        </div>
                        <div 
                            className="flex-shrink-0 animate-bounce flex flex-col items-center opacity-100"
                            style={{ marginBottom: '2cqh' }}
                        >
                            <p 
                                className="text-[#1e1d1e] font-bold uppercase tracking-[0.3em] font-body"
                                style={{ fontSize: '3.5cqw', marginBottom: '1cqh' }}
                            >
                                Swipe Up to Begin
                            </p>
                        </div>
                    </div>
                );
            }

            if (item.type === 'outro') {
                return (
                    <div 
                        className={`relative h-full w-full flex flex-col items-center justify-center text-center ${item.gradient}`}
                        style={{ padding: '6cqw' }}
                    >
                        <div 
                            className="bg-[#1e1d1e]/10 backdrop-blur-sm rounded-[2.5rem] border border-[#e8e5e0]/20 shadow-2xl w-full flex flex-col items-center"
                            style={{ padding: '8cqw', maxWidth: '85cqw' }}
                        >
                            {/* Checkmark Icon Removed */}
                            
                            <h1 
                                className="font-black text-[#e8e5e0] leading-none uppercase tracking-normal font-heading"
                                style={{ fontSize: '9cqw', marginBottom: '1.5cqh' }}
                            >
                                LET'S WORK<br/>TOGETHER
                            </h1>
                            <p 
                                className="text-[#e8e5e0]/90 font-bold font-body"
                                style={{ fontSize: '3.5cqw', marginBottom: '6cqh', maxWidth: '60%' }}
                            >
                                Ready to bring this level of creative direction to your team?
                            </p>
                            <div className="flex flex-col w-full" style={{ gap: '2cqh' }}>
                                <a 
                                    href="https://renanscheffer.com/" 
                                    target="_blank" 
                                    rel="noopener noreferrer" 
                                    className="group bg-[#e8e5e0] text-[#0d72e4] rounded-2xl font-bold uppercase tracking-widest transition-all font-body flex items-center justify-center"
                                    style={{ fontSize: '3cqw', padding: '4cqw 6cqw', gap: '2cqw' }}
                                >
                                    <ExternalLink className="mb-0.5" style={{ width: '4cqw', height: '4cqw' }} />
                                    Full Portfolio
                                </a>
                                <a 
                                    href="https://www.renanscheffer.com/contact" 
                                    target="_blank" 
                                    rel="noopener noreferrer" 
                                    className="group bg-[#1e1d1e] text-[#e8e5e0] rounded-2xl font-bold uppercase tracking-widest transition-all font-body flex items-center justify-center"
                                    style={{ fontSize: '3cqw', padding: '4cqw 6cqw', gap: '2cqw' }}
                                >
                                    <ArrowRight className="mb-0.5" style={{ width: '4cqw', height: '4cqw' }} />
                                    Get In Touch
                                </a>
                            </div>
                        </div>
                        <div className="absolute opacity-60" style={{ bottom: '4cqh' }}>
                            <p 
                                className="text-[#e8e5e0] font-black font-heading tracking-widest"
                                style={{ fontSize: '2.5cqw' }}
                            >
                                RENAN SCHEFFER © 2024
                            </p>
                        </div>
                    </div>
                );
            }

            // --- SHARED VIDEO/CAROUSEL UI ---
            return (
                <div className="relative h-full w-full bg-[#1e1d1e] overflow-hidden group">
                    
                    {/* MEDIA CONTAINER */}
                    {item.type === 'carousel' ? (
                        <div 
                            ref={carouselRef}
                            onScroll={handleCarouselScroll}
                            className="flex h-full w-full overflow-x-auto snap-x snap-mandatory no-scrollbar"
                        >
                            {item.slides.map((slide, idx) => (
                                <div key={idx} className="h-full w-full flex-shrink-0 snap-center bg-black relative">
                                    <video
                                        ref={el => slideRefs.current[idx] = el}
                                        src={slide.url}
                                        loop
                                        playsInline
                                        muted={isMuted} // Controlled by effect
                                        className="h-full w-full object-cover"
                                        onClick={toggleMute}
                                        preload="auto"
                                    />
                                </div>
                            ))}
                        </div>
                    ) : (
                        /* SINGLE VIDEO */
                        !hasError ? (
                            <video
                                ref={videoRef}
                                src={item.url}
                                loop
                                muted={isMuted}
                                playsInline
                                className="h-full w-full object-cover"
                                onClick={toggleMute}
                                onError={handleVideoError}
                                preload="auto"
                            />
                        ) : (
                            <div className="h-full w-full flex flex-col items-center justify-center bg-zinc-900 text-zinc-500 p-8 text-center">
                                <AlertCircle size={48} className="mb-4 opacity-50" />
                                <p className="text-sm font-bold">Video Unavailable</p>
                            </div>
                        )
                    )}

                    <div className="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/60 pointer-events-none" />

                    {/* Gradient Overlay - Dynamic based on isExpanded */}
                    <div 
                        className={`absolute inset-0 bg-gradient-to-b from-transparent transition-all duration-300 pointer-events-none ${isExpanded ? 'via-black/40 to-black/90' : 'via-transparent to-black/60'}`} 
                    />

                    {/* Sidebar Controls */}
                    <div className="absolute right-3 bottom-6 flex flex-col items-center space-y-6 z-20">
                        <div className="flex flex-col items-center drop-shadow-md">
                            <button onClick={() => setIsLiked(!isLiked)} className="active:scale-75 transition-transform duration-100">
                                <Heart className={`w-7 h-7 ${isLiked ? 'fill-[#ee5bea] text-[#ee5bea]' : 'text-[#e8e5e0]'}`} strokeWidth={2.5} />
                            </button>
                        </div>
                        <div className="flex flex-col items-center drop-shadow-md">
                            <button onClick={() => setCommentOpen(true)} className="active:scale-75 transition-transform duration-100">
                                <MessageCircle className="w-7 h-7 text-[#e8e5e0]" strokeWidth={2.5} />
                            </button>
                        </div>
                        <div className="flex flex-col items-center drop-shadow-md">
                            <button onClick={() => setIsExpanded(!isExpanded)} className="active:scale-75 transition-transform duration-100">
                                <Info className="w-7 h-7 text-[#e8e5e0]" strokeWidth={2.5} />
                            </button>
                        </div>
                        <button onClick={toggleMute} className="mt-2 opacity-70 hover:opacity-100 transition-opacity drop-shadow-md">
                            {isMuted ? <VolumeX className="w-5 h-5 text-[#e8e5e0]" /> : <Volume2 className="w-5 h-5 text-[#e8e5e0]" />}
                        </button>
                    </div>

                    {/* Captions */}
                    <div className="absolute bottom-6 left-4 right-16 z-10 drop-shadow-md pointer-events-none">
                        <div className="flex flex-col gap-2">
                            {/* Pagination Dots for Carousel */}
                            {item.type === 'carousel' && (
                                <div className="flex gap-1.5 mb-1">
                                    {item.slides.map((_, idx) => (
                                        <div 
                                            key={idx} 
                                            className={`h-1.5 rounded-full transition-all duration-300 ${idx === activeSlide ? 'w-1.5 bg-[#e8e5e0]' : 'w-1.5 bg-[#e8e5e0]/40'}`} 
                                        />
                                    ))}
                                </div>
                            )}
                            
                            <div 
                                className="pointer-events-auto cursor-pointer"
                                onClick={() => setIsExpanded(!isExpanded)}
                            >
                                <p className="text-sm font-bold mb-1 line-clamp-2 font-body text-[#e8e5e0]">{item.title}</p>
                                <p className={`text-xs text-[#e8e5e0]/90 leading-tight font-medium font-body max-w-[85%] transition-all duration-300 ${isExpanded ? '' : 'line-clamp-2'}`}>
                                    {item.description}
                                </p>
                            </div>
                        </div>
                    </div>

                    {/* Pagination Dots for Carousel - Repositioned & Restyled */}
                    {item.type === 'carousel' && (
                        <div className="absolute bottom-2 left-0 right-0 z-20 flex justify-center gap-1.5 pointer-events-none">
                            {item.slides.map((_, idx) => (
                                <div 
                                    key={idx} 
                                    className={`h-1.5 rounded-full transition-all duration-300 ${idx === activeSlide ? 'w-1.5 bg-[#e8e5e0]' : 'w-1.5 bg-[#e8e5e0]/40'}`} 
                                />
                            ))}
                        </div>
                    )}

                    {/* Comments Drawer */}
                    {commentOpen && (
                        <div className="absolute inset-0 bg-[#1e1d1e]/60 z-50 flex flex-col justify-end">
                            <div className="bg-[#1e1d1e] rounded-t-[2rem] p-6 h-[60%] overflow-hidden flex flex-col shadow-2xl border-t border-[#e8e5e0]/10">
                                <div className="flex justify-between items-center mb-6 border-b border-[#e8e5e0]/10 pb-4">
                                    <span className="text-[#e8e5e0] text-[11px] font-black uppercase tracking-widest font-heading">Comments</span>
                                    <button onClick={() => setCommentOpen(false)} className="text-[#e8e5e0]/50 text-sm font-black hover:text-[#e8e5e0]">✕</button>
                                </div>
                                <div className="flex-1 overflow-y-auto space-y-5"></div>
                                <div className="mt-4 pt-4 border-t border-[#e8e5e0]/10">
                                    <div className="flex items-center gap-3 bg-[#e8e5e0]/5 rounded-2xl px-4 py-3">
                                        <input type="text" placeholder="Add a comment..." className="bg-transparent flex-1 text-[#e8e5e0] text-xs outline-none font-medium font-body placeholder-[#e8e5e0]/30" />
                                        <Send className="w-4 h-4 text-[#0d72e4] cursor-pointer" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        function App() {
            const [activeIndex, setActiveIndex] = useState(0);
            const [isMuted, setIsMuted] = useState(true); // Default muted
            const containerRef = useRef(null);

            const handleScroll = () => {
                if (!containerRef.current) return;
                const index = Math.round(containerRef.current.scrollTop / containerRef.current.clientHeight);
                if (index !== activeIndex) setActiveIndex(index);
            };

            const scrollToIndex = (index) => {
                if (!containerRef.current) return;
                if (index < 0 || index >= CONTENT_DATA.length) return;
                const height = containerRef.current.clientHeight;
                containerRef.current.scrollTo({
                    top: index * height,
                    behavior: 'smooth'
                });
            };

            return (
                <div className="fixed inset-0 bg-[#1e1d1e] flex flex-col items-center justify-center font-sans overflow-hidden">
                    
                    {/* Wrapper to hold Frame + Side Controls centered together */}
                    <div className="relative h-full max-h-screen flex items-center justify-center">
                        
                        {/* 9:16 Aspect Ratio Wrapper (The Phone) */}
                        <div 
                            className="relative h-full aspect-[9/16] max-h-screen shadow-[0_0_120px_rgba(13,114,228,0.1)] overflow-hidden bg-[#1e1d1e] flex flex-col transition-all duration-500 box-content ring-1 ring-[#e8e5e0]/10"
                            style={{ containerType: 'size' }}
                        >
                            
                            {/* Vertical Feed */}
                            <div 
                                ref={containerRef}
                                onScroll={handleScroll}
                                className="flex-1 overflow-y-scroll snap-y snap-mandatory no-scrollbar scroll-smooth relative"
                            >
                                {CONTENT_DATA.map((item, index) => (
                                    <div key={item.id} className="h-full w-full snap-start snap-always">
                                        <VideoItem 
                                            item={item} 
                                            isActive={index === activeIndex} 
                                            isMuted={isMuted}
                                            toggleMute={() => setIsMuted(!isMuted)}
                                        />
                                    </div>
                                ))}
                            </div>

                            {/* Tab Bar - Custom Branding */}
                            <div className="h-16 w-full bg-[#1e1d1e] border-t border-[#e8e5e0]/10 flex items-center justify-around px-2 z-50">
                                <div className="flex flex-col items-center text-[#e8e5e0]">
                                    <HomeIcon className="w-6 h-6 mb-1" strokeWidth={2} />
                                    <span className="text-[8px] font-bold uppercase tracking-tighter font-body">Home</span>
                                </div>
                                <a href="https://renanscheffer.com/" target="_blank" rel="noopener noreferrer" className="flex flex-col items-center text-[#e8e5e0] transition-colors hover:text-white cursor-pointer">
                                    <LayoutGrid className="w-6 h-6 mb-1" strokeWidth={2} />
                                    <span className="text-[8px] font-bold uppercase tracking-tighter font-body">Portfolio</span>
                                </a>
                                <a href="https://www.renanscheffer.com/s/RenanScheffer_Resume_2025-Web.pdf" target="_blank" rel="noopener noreferrer" className="flex flex-col items-center text-[#e8e5e0] transition-colors hover:text-white cursor-pointer">
                                    <FileText className="w-6 h-6 mb-1" strokeWidth={2} />
                                    <span className="text-[8px] font-bold uppercase tracking-tighter font-body">Resume</span>
                                </a>
                                <a href="https://www.renanscheffer.com/contact" target="_blank" rel="noopener noreferrer" className="flex flex-col items-center text-[#e8e5e0] transition-colors hover:text-white cursor-pointer">
                                    <Mail className="w-6 h-6 mb-1" strokeWidth={2} />
                                    <span className="text-[8px] font-bold uppercase tracking-tighter font-body">Contact</span>
                                </a>
                            </div>
                        </div>

                        {/* Desktop Controls (Arrows) */}
                        <div className="hidden md:flex flex-col gap-4 ml-6">
                            <button 
                                onClick={() => scrollToIndex(activeIndex - 1)} 
                                disabled={activeIndex === 0}
                                className="p-3 rounded-full bg-[#e8e5e0]/10 hover:bg-[#e8e5e0]/20 text-[#e8e5e0] transition-all disabled:opacity-30 disabled:cursor-not-allowed backdrop-blur-sm"
                            >
                                <ChevronUp size={24} />
                            </button>
                            <button 
                                onClick={() => scrollToIndex(activeIndex + 1)}
                                disabled={activeIndex === CONTENT_DATA.length - 1}
                                className="p-3 rounded-full bg-[#e8e5e0]/10 hover:bg-[#e8e5e0]/20 text-[#e8e5e0] transition-all disabled:opacity-30 disabled:cursor-not-allowed backdrop-blur-sm"
                            >
                                <ChevronDown size={24} />
                            </button>
                        </div>

                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
